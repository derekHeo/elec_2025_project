# 전력 소비량 예측 경진대회 - 프로젝트 To-Do List

> **목표**: Public Score 향상 + 발표 점수 최대화 (총 100점 + 보너스 5점)

---

## 📊 점수 배분 현황

| 항목 | 배점 | 예상 획득 | 상태 |
|------|------|-----------|------|
| **Novelty** | 20점 | 0점 | 🔴 미시작 |
| **EDA 수행** | 10점 | 0점 | 🔴 미시작 |
| **Feature Selection 설명** | 5점 | 0점 | 🔴 미시작 |
| **Model Selection 설명** | 5점 | 0점 | 🔴 미시작 |
| **랭킹 점수** | 최대 30점 | ?점 | 🟡 진행중 |
| **Lessons Learned** | 10점 | 0점 | 🔴 미시작 |
| **Presentation** | 10점 | 0점 | 🔴 미시작 |
| **제출 성공** | 10점 | 10점 | 🟢 완료 |
| **총점** | **100점** | **10점** | **10%** |

---

## 🎯 Phase 1: 데이터 분석 및 이해 (EDA) - 10점 확보

### ✅ To-Do: EDA 노트북 작성

**우선순위**: ⭐⭐⭐ 최우선
**예상 소요 시간**: 4-6시간
**예상 점수**: 10점

- [ ] **1-1. 기본 데이터 탐색**
  - [ ] 데이터 로드 및 기본 통계 확인 (shape, dtypes, missing values)
  - [ ] 타겟 변수(전력소비량) 분포 시각화
  - [ ] 건물별 전력소비량 통계 요약 테이블

- [ ] **1-2. 시간 패턴 분석**
  - [ ] 시간대별 전력소비량 패턴 (24시간)
  - [ ] 요일별 전력소비량 패턴 (월~일)
  - [ ] 월별 전력소비량 트렌드 (6월~8월)
  - [ ] 주중 vs 주말 비교 분석

- [ ] **1-3. 건물 분석**
  - [ ] 건물 타입별 전력소비량 박스플롯
  - [ ] 건물 타입별 평균/최대/최소 소비량 비교
  - [ ] 건물별 시계열 플롯 (상위/하위 5개씩)
  - [ ] 건물 특성(연면적, 냉방면적) vs 전력소비량 상관관계

- [ ] **1-4. 기상 데이터 분석**
  - [ ] 기온 vs 전력소비량 산점도 + 회귀선
  - [ ] 습도 vs 전력소비량 관계 분석
  - [ ] 풍속, 강수량, 일조, 일사 vs 전력소비량 상관계수 히트맵
  - [ ] 기온 구간별 전력소비량 분포 (예: <20°C, 20-25°C, 25-30°C, >30°C)

- [ ] **1-5. 이상치 분석**
  - [ ] 건물별 이상치 탐지 및 시각화
  - [ ] 1등 팀이 제거한 이상치 근거 검증
  - [ ] 추가 이상치 후보 발견 및 문서화

- [ ] **1-6. 파생변수 효과 분석**
  - [ ] CDH, CDD, THI, WCT와 전력소비량 상관관계
  - [ ] 주기성 특징(sin/cos) 효과 시각화
  - [ ] 타겟 인코딩 특징(dow_hour_mean 등) 분포 확인

**산출물**: `notebooks/01_EDA.ipynb`

---

## 🔧 Phase 2: Feature Engineering 확장 - Novelty 6점 확보

### ✅ To-Do: 새로운 피처 개발 및 실험

**우선순위**: ⭐⭐⭐ 최우선
**예상 소요 시간**: 6-8시간
**예상 점수**: Novelty 3-6점

- [ ] **2-1. 시계열 Lag 특징**
  - [ ] 1시간 전 전력소비량 (lag_1h)
  - [ ] 24시간 전 (lag_24h) - 전날 같은 시간
  - [ ] 168시간 전 (lag_168h) - 일주일 전 같은 시간
  - [ ] 72시간 전 (lag_72h) - 3일 전

- [ ] **2-2. 롤링 통계 특징**
  - [ ] 3시간 이동평균/표준편차 (rolling_mean_3h, rolling_std_3h)
  - [ ] 24시간 이동평균/표준편차
  - [ ] 168시간(1주) 이동평균/표준편차
  - [ ] 전력소비량 변화율 (diff_1h, diff_24h)

- [ ] **2-3. 기상 조합 특징**
  - [ ] 기온×습도 교차항 (temp_humidity_interaction)
  - [ ] 기온³ (비선형성 강화)
  - [ ] 체감온도 개선 버전 (다른 수식 시도)
  - [ ] 일교차 (당일 최고기온 - 최저기온)

- [ ] **2-4. 시간대 구간 특징**
  - [ ] 출근시간 플래그 (7-9시)
  - [ ] 점심시간 플래그 (12-14시)
  - [ ] 퇴근시간 플래그 (17-19시)
  - [ ] 심야시간 플래그 (23-6시)
  - [ ] 피크타임 플래그 (건물 타입별로 다르게)

- [ ] **2-5. 건물별 맞춤 특징**
  - [ ] 건물별 전력소비량 순위 (rank)
  - [ ] 건물 타입 내 상대적 크기 (연면적 percentile)
  - [ ] 냉방면적 비율 (cooling_area / total_area)
  - [ ] 태양광/ESS 유무 플래그

- [ ] **2-6. 도메인 지식 특징**
  - [ ] 폭염 특보 수준 지표 (기온 33도 이상)
  - [ ] 열대야 플래그 (최저기온 25도 이상)
  - [ ] 장마철 플래그 (강수량 기반)
  - [ ] 주말 연휴 플래그

**산출물**: `src/feature_engineering_v2.py` + 실험 노트북

---

## 🤖 Phase 3: 모델 다양화 - Novelty 2점 확보

### ✅ To-Do: 새로운 모델 추가

**우선순위**: ⭐⭐ 중요
**예상 소요 시간**: 4-6시간
**예상 점수**: Novelty 2점

- [ ] **3-1. Tree 기반 모델 추가**
  - [ ] LightGBM 건물별 학습
  - [ ] CatBoost 건물별 학습
  - [ ] XGBoost 건물별 학습
  - [ ] 각 모델 기본 성능 비교

- [ ] **3-2. 시계열 전용 모델**
  - [ ] Prophet (Facebook) - 건물별 학습
  - [ ] NeuralProphet - 선택적 적용
  - [ ] LSTM/GRU 기본 모델 (선택)

- [ ] **3-3. 딥러닝 모델 (선택)**
  - [ ] Temporal Fusion Transformer 조사
  - [ ] N-BEATS 조사
  - [ ] 실험 가능성 평가

**산출물**: `notebooks/03_Model_Experiments.ipynb`

---

## ⚙️ Phase 4: 하이퍼파라미터 최적화 - Novelty 3점 확보

### ✅ To-Do: 체계적 튜닝

**우선순위**: ⭐⭐ 중요
**예상 소요 시간**: 4-6시간
**예상 점수**: Novelty 3점

- [ ] **4-1. Optuna 설정**
  - [ ] Optuna 환경 구축
  - [ ] SMAPE 기준 최적화 목표 함수 작성
  - [ ] 탐색 공간 정의 (learning_rate, max_depth 등)

- [ ] **4-2. 모델별 튜닝**
  - [ ] LightGBM 하이퍼파라미터 탐색 (100 trials)
  - [ ] CatBoost 하이퍼파라미터 탐색
  - [ ] XGBoost 하이퍼파라미터 탐색
  - [ ] TabPFN 파라미터 실험

- [ ] **4-3. 건물 타입별 최적화**
  - [ ] 건물 타입별로 다른 파라미터 적용 실험
  - [ ] 상위 5개 건물별 개별 튜닝

**산출물**: `notebooks/04_Hyperparameter_Tuning.ipynb` + 최적 파라미터 JSON

---

## 🎭 Phase 5: 앙상블 최적화 - WOW 요소 10점 노리기

### ✅ To-Do: 앙상블 가중치 최적화

**우선순위**: ⭐⭐⭐ 최우선 (성능 직결)
**예상 소요 시간**: 4-6시간
**예상 점수**: WOW 요소 5-10점

- [ ] **5-1. Validation Set 구성**
  - [ ] 2024-08-18 ~ 2024-08-24 (7일) validation 분리
  - [ ] Public LB 검증용 전략 수립

- [ ] **5-2. 모델별 성능 비교**
  - [ ] 각 모델의 Validation SMAPE 측정
  - [ ] 건물별 성능 분석 (어떤 모델이 어떤 건물에 강한지)
  - [ ] 건물 타입별 성능 분석

- [ ] **5-3. 가중치 탐색**
  - [ ] Grid Search로 앙상블 가중치 최적화
  - [ ] Optuna로 가중치 자동 탐색
  - [ ] 건물별 다른 가중치 적용 실험

- [ ] **5-4. Stacking 2단계**
  - [ ] Meta-model로 LightGBM/Ridge 실험
  - [ ] Out-of-fold 예측 생성
  - [ ] 2단 stacking 성능 검증

- [ ] **5-5. Blending 전략**
  - [ ] Power Averaging (p=0.5, 2, 3 실험)
  - [ ] Rank Averaging
  - [ ] 조건부 앙상블 (건물별로 다른 조합)

**산출물**: `notebooks/05_Ensemble_Optimization.ipynb` + 최종 앙상블 코드

---

## 📝 Phase 6: 문서화 - 30점 확보

### ✅ To-Do: 발표 및 문서 작성

**우선순위**: ⭐⭐⭐ 필수
**예상 소요 시간**: 6-8시간
**예상 점수**: 30점

- [ ] **6-1. Feature Selection 문서** (5점)
  - [ ] 전체 피처 리스트 작성
  - [ ] 피처별 중요도 분석 (SHAP, Feature Importance)
  - [ ] 선택/제거 근거 설명
  - [ ] Ablation Study 결과 (피처 제거 실험)

- [ ] **6-2. Model Selection 문서** (5점)
  - [ ] 시도한 모델 리스트 및 성능 비교표
  - [ ] 최종 선택 모델 및 근거
  - [ ] 모델별 장단점 분석
  - [ ] 앙상블 전략 설명

- [ ] **6-3. Lessons Learned** (10점)
  - [ ] 잘된 점 (What Worked)
  - [ ] 안 된 점 (What Didn't Work)
  - [ ] 놀라운 발견 (Surprises)
  - [ ] 다음에 시도할 것 (Future Work)
  - [ ] 코드/실험 관리 교훈

- [ ] **6-4. 발표 자료** (10점)
  - [ ] PPT/PDF 초안 작성
  - [ ] 핵심 시각화 자료 준비
  - [ ] 스토리라인 구성
  - [ ] 발표 리허설 (7-10분)

**산출물**: `docs/` 폴더에 각 문서 + 발표 파일

---

## 🚀 Phase 7: 최종 제출 및 검증

### ✅ To-Do: 제출 전 체크리스트

**우선순위**: ⭐⭐⭐ 필수
**예상 소요 시간**: 2-3시간

- [ ] **7-1. 코드 정리**
  - [ ] 전체 파이프라인 1개 노트북으로 통합
  - [ ] 재현 가능성 검증 (처음부터 다시 실행)
  - [ ] 랜덤 시드 고정 확인
  - [ ] 주석 및 docstring 추가

- [ ] **7-2. 최종 제출**
  - [ ] Public LB 제출 및 점수 확인
  - [ ] 여러 버전 제출 후 최고 점수 선택
  - [ ] 제출 파일 형식 재확인

- [ ] **7-3. 백업**
  - [ ] GitHub 커밋 및 푸시
  - [ ] 최종 모델 파일 백업
  - [ ] 제출 파일 백업

**산출물**: 최종 submission.csv + 클린 코드

---

## 📅 전체 일정 계획

### Week 1: 분석 및 기초 작업
- [ ] Day 1-2: EDA 노트북 완성 (Phase 1)
- [ ] Day 3-4: Feature Engineering 확장 (Phase 2)
- [ ] Day 5: 새로운 모델 실험 (Phase 3)

### Week 2: 최적화 및 성능 향상
- [ ] Day 6-7: 하이퍼파라미터 튜닝 (Phase 4)
- [ ] Day 8-9: 앙상블 최적화 (Phase 5)
- [ ] Day 10: 성능 검증 및 리더보드 제출

### Week 3: 문서화 및 발표 준비
- [ ] Day 11-12: 문서 작성 (Phase 6)
- [ ] Day 13: 발표 자료 제작
- [ ] Day 14: 최종 검토 및 제출 (Phase 7)

---

## 🎖️ Novelty 체크리스트 (20점 만점 목표)

| 항목 | 점수 | 상태 |
|------|------|------|
| 모델 변경 (Baseline과 다른 모델) | 2점 | ⬜ |
| Feature 분석 및 생성 | 3-6점 | ⬜ |
| Ensemble 적용 | 2점 | ⬜ |
| Hyperparameter 조정 | 3점 | ⬜ |
| WOW 요소 (독창적 시도) | 0-10점 | ⬜ |
| **총 Novelty 점수** | **최대 20점** | **0점** |

---

## 💡 WOW 요소 아이디어 (10점 목표)

- [ ] **아이디어 1**: 건물별 최적 모델 자동 선택 시스템
  - 각 건물마다 10개 모델 중 최고 성능 모델 자동 선택

- [ ] **아이디어 2**: 시간대별 동적 앙상블
  - 낮 시간대 / 밤 시간대에 다른 가중치 적용

- [ ] **아이디어 3**: 날씨 클러스터링 기반 예측
  - 유사한 날씨 패턴끼리 그룹화 후 예측

- [ ] **아이디어 4**: 앙상블 가중치 학습
  - Neural Network로 앙상블 가중치 자동 학습

- [ ] **아이디어 5**: Pseudo Labeling
  - Test set 예측값을 활용한 재학습

---

## 📊 진행 상황 트래킹

**시작일**: 2025-11-19
**마감일**: (설정 필요)
**현재 진행률**: 10% (10/100점)

### 주간 목표
- **이번 주**: EDA + Feature Engineering (20점 확보 목표)
- **다음 주**: 모델링 + 앙상블 최적화 (성능 향상 집중)
- **마지막 주**: 문서화 + 발표 준비 (30점 확보)

---

## 🔗 참고 자료

- 1등 팀 코드 위치: `best_model/`
- 데이터 위치: `data/`
- 점수 기준: `rules.md`

---

**🎯 최종 목표: Public Score 1등 + 발표 점수 90점 이상**
